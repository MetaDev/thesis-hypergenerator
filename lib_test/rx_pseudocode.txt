first create max child tree structure of parent -> child subscribers

each parent has a collection of variables to which the each variable of each child subscribes
the first filter is whether the the index of the child is below the sampled nr of children

using the appropriate names of the variables the second filter will decide whether a child variable will use the parent variable
these filtered parent variables are zipped and passed to the lambda function using map.

The children subscribe to the independent variables of the parent to calculate the conditional distributions
once the conditional distributions are calculated the child variable will zip a sample from this distribution
with the filtered parent relative values of its variables to calculate it's own relative value